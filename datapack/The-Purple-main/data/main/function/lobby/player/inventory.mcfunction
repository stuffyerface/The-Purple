tag @s add dont_drop_items

# ready/not ready
execute if entity @s[tag=!ready] unless predicate main:has_item/ready run function c:item/ready
execute if entity @s[tag=ready] unless predicate main:has_item/not_ready run function c:item/not_ready

# ability info items
execute unless score @s source_ability matches 1.. run function main:module/item/system/macro/give {id:"SOURCE_ABILITY_SPEED",slot:"hotbar.7"}
execute if score @s source_ability matches 1 run function main:module/item/system/macro/give {id:"SOURCE_ABILITY_SPEED",slot:"hotbar.7"}
execute if score @s source_ability matches 2 run function main:module/item/system/macro/give {id:"SOURCE_ABILITY_INVISIBLE",slot:"hotbar.7"}
execute if score @s source_ability matches 3 run function main:module/item/system/macro/give {id:"SOURCE_ABILITY_DARKNESS",slot:"hotbar.7"}
execute if score @s source_ability matches 4 run function main:module/item/system/macro/give {id:"SOURCE_ABILITY_CORRUPTION",slot:"hotbar.7"}
execute if score @s source_ability matches 5 run function main:module/item/system/macro/give {id:"SOURCE_ABILITY_REACH",slot:"hotbar.7"}
execute if score @s source_ability matches 6 run function main:module/item/system/macro/give {id:"SOURCE_ABILITY_CLONE",slot:"hotbar.7"}
execute unless score @s spectator_ability matches 1.. run function main:module/item/system/macro/give {id:"SPECTATOR_ABILITY_FIREWORKS",slot:"hotbar.8"}
execute if score @s spectator_ability matches 1 run function main:module/item/system/macro/give {id:"SPECTATOR_ABILITY_FIREWORKS",slot:"hotbar.8"}
execute if score @s spectator_ability matches 2 run function main:module/item/system/macro/give {id:"SPECTATOR_ABILITY_SPEED",slot:"hotbar.8"}
execute if score @s spectator_ability matches 3 run function main:module/item/system/macro/give {id:"SPECTATOR_ABILITY_TELEPORT",slot:"hotbar.8"}
execute if score @s spectator_ability matches 4 run function main:module/item/system/macro/give {id:"SPECTATOR_ABILITY_SLIME",slot:"hotbar.8"}
execute if score @s spectator_ability matches 5 run function main:module/item/system/macro/give {id:"SPECTATOR_ABILITY_TIME",slot:"hotbar.8"}
execute if score @s spectator_ability matches 6 run function main:module/item/system/macro/give {id:"SPECTATOR_ABILITY_ITEM",slot:"hotbar.8"}

# artifacts
execute if entity @s[tag=artifact.frying_pan] run function main:module/item/system/macro/give {id:"ARTIFACT_FRYING_PAN",slot:"inventory.2"}
execute if entity @s[tag=artifact.microscope] run function main:module/item/system/macro/give {id:"ARTIFACT_MICROSCOPE",slot:"inventory.3"}
execute if entity @s[tag=artifact.ugly_fish] run function main:module/item/system/macro/give {id:"ARTIFACT_UGLY_FISH",slot:"inventory.4"}
execute if entity @s[tag=artifact.potted_plant] run function main:module/item/system/macro/give {id:"ARTIFACT_POTTED_PLANT",slot:"inventory.5"}
execute if entity @s[tag=artifact.rope] run function main:module/item/system/macro/give {id:"ARTIFACT_ROPE",slot:"inventory.6"}
execute if entity @s[tag=artifact.drill] run function main:module/item/system/macro/give {id:"ARTIFACT_DRILL",slot:"inventory.11"}
execute if entity @s[tag=artifact.meteorite] run function main:module/item/system/macro/give {id:"ARTIFACT_METEORITE",slot:"inventory.12"}
execute if entity @s[tag=artifact.gears] run function main:module/item/system/macro/give {id:"ARTIFACT_GEARS",slot:"inventory.13"}
execute if entity @s[tag=artifact.lantern] run function main:module/item/system/macro/give {id:"ARTIFACT_LANTERN",slot:"inventory.14"}

# quick select items
item replace entity @s inventory.0 with potion[max_stack_size=1,item_name={"color":"green","translate":"item.purple.source_ability","fallback":"Infected Ability: %s","with":[{"color":"white","translate":"item.purple.source_ability.speed","fallback":"Speed Burst"}]},custom_name={"color":"green","italic":false,"translate":"item.purple.source_ability","fallback":"Infected Ability: %s","with":[{"color":"white","translate":"item.purple.source_ability.speed","fallback":"Speed Burst"}]},lore=[{"translate":"setting.purple.button.source_ability.speed.desc.1","fallback":"Gain a burst of Speed IV","color":"gray","italic":false},{"translate":"setting.purple.button.source_ability.speed.desc.2","fallback":"for %s seconds","with":["5"],"color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],tooltip_display={hidden_components:["minecraft:potion_contents"]},potion_contents={custom_color:61183},!consumable,custom_data={id:QUICK_SELECT_1.1}]
item replace entity @s inventory.9 with glass[max_stack_size=1,item_name={"color":"green","translate":"item.purple.source_ability","fallback":"Infected Ability: %s","with":[{"color":"white","translate":"item.purple.source_ability.invisible","fallback":"Invisibility"}]},lore=[{"translate":"setting.purple.button.source_ability.invisible.desc.1","fallback":"Become Invisible","color":"gray","italic":false},{"translate":"setting.purple.button.source_ability.invisible.desc.2","fallback":"for %s seconds","with":["20"],"color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],custom_data={id:QUICK_SELECT_1.2}]
item replace entity @s inventory.18 with dried_kelp[max_stack_size=1,item_name={"color":"green","translate":"item.purple.source_ability","fallback":"Infected Ability: %s","with":[{"color":"white","translate":"item.purple.source_ability.darkness","fallback":"Looming Darkness"}]},lore=[{"translate":"setting.purple.button.source_ability.darkness.desc.1","fallback":"Inflict Darkness on everyone","color":"gray","italic":false},{"translate":"setting.purple.button.source_ability.darkness.desc.2","fallback":"else for %s seconds","with":["10"],"color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],custom_data={id:QUICK_SELECT_1.3}]
item replace entity @s inventory.1 with chorus_plant[max_stack_size=1,item_name={"color":"green","translate":"item.purple.source_ability","fallback":"Infected Ability: %s","with":[{"color":"white","translate":"item.purple.source_ability.corruption","fallback":"Corrupt Growth"}]},lore=[{"translate":"setting.purple.button.source_ability.corruption.desc.1","fallback":"Spread corrupt blocks around","color":"gray","italic":false},{"translate":"setting.purple.button.source_ability.corruption.desc.2","fallback":"yourself and %s nearby","with":["2"],"color":"gray","italic":false},{"translate":"setting.purple.button.source_ability.corruption.desc.3","fallback":"players for %s seconds","with":["5"],"color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],custom_data={id:QUICK_SELECT_1.4}]
item replace entity @s inventory.10 with echo_shard[max_stack_size=1,item_name={"color":"green","translate":"item.purple.source_ability","fallback":"Infected Ability: %s","with":[{"color":"white","translate":"item.purple.source_ability.reach","fallback":"Long Arms"}]},lore=[{"translate":"setting.purple.button.source_ability.reach.desc.1","fallback":"Doubles your reach","color":"gray","italic":false},{"translate":"setting.purple.button.source_ability.reach.desc.2","fallback":"for %s seconds","with":["10"],"color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],custom_data={id:QUICK_SELECT_1.5}]
item replace entity @s inventory.19 with player_head[max_stack_size=1,item_name={"color":"green","translate":"item.purple.source_ability","fallback":"Infected Ability: %s","with":[{"color":"white","translate":"item.purple.source_ability.clone","fallback":"Clone Ally"}]},lore=[{"translate":"setting.purple.button.source_ability.clone.desc.1","fallback":"Create a clone","color":"gray","italic":false},{"translate":"setting.purple.button.source_ability.clone.desc.2","fallback":"of yourself","color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],custom_data={id:QUICK_SELECT_1.6},!equippable]

item replace entity @s inventory.7 with firework_rocket[max_stack_size=1,item_name={"color":"green","translate":"item.purple.spectator_ability","fallback":"Spectator Ability: %s","with":[{"color":"white","translate":"item.purple.spectator_ability.fireworks","fallback":"Fireworks"}]},lore=[{"translate":"setting.purple.button.spectator_ability.fireworks.desc.1","fallback":"Launch fireworks above","color":"gray","italic":false},{"translate":"setting.purple.button.spectator_ability.fireworks.desc.2","fallback":"the nearest player","color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],tooltip_display={hidden_components:["minecraft:fireworks"]},custom_data={id:QUICK_SELECT_2.1}]
item replace entity @s inventory.16 with potion[max_stack_size=1,item_name={"color":"green","translate":"item.purple.spectator_ability","fallback":"Spectator Ability: %s","with":[{"color":"white","translate":"item.purple.spectator_ability.speed","fallback":"Speed Burst"}]},custom_name={"color":"green","italic":false,"translate":"item.purple.spectator_ability","fallback":"Spectator Ability: %s","with":[{"color":"white","translate":"item.purple.source_ability.speed","fallback":"Speed Burst"}]},lore=[{"translate":"setting.purple.button.spectator_ability.speed.desc.1","fallback":"Grant a burst of speed","color":"gray","italic":false},{"translate":"setting.purple.button.spectator_ability.speed.desc.2","fallback":"to the nearest player","color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],tooltip_display={hidden_components:["minecraft:potion_contents"]},potion_contents={custom_color:61183},!consumable,custom_data={id:QUICK_SELECT_2.2}]
item replace entity @s inventory.25 with ender_eye[max_stack_size=1,item_name={"color":"green","translate":"item.purple.spectator_ability","fallback":"Spectator Ability: %s","with":[{"color":"white","translate":"item.purple.spectator_ability.teleport","fallback":"Random Teleport"}]},lore=[{"translate":"setting.purple.button.spectator_ability.teleport.desc.1","fallback":"Teleport a random player to","color":"gray","italic":false},{"translate":"setting.purple.button.spectator_ability.teleport.desc.2","fallback":"the player closest to you","color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],custom_data={id:QUICK_SELECT_2.3}]
item replace entity @s inventory.8 with slime_ball[max_stack_size=1,item_name={"color":"green","translate":"item.purple.spectator_ability","fallback":"Spectator Ability: %s","with":[{"color":"white","translate":"item.purple.spectator_ability.slime","fallback":"Slime Swarm"}]},lore=[{"translate":"setting.purple.button.spectator_ability.slime.desc.1","fallback":"Spawn multiple slimes on top","color":"gray","italic":false},{"translate":"setting.purple.button.spectator_ability.slime.desc.2","fallback":"of the nearest player","color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],custom_data={id:QUICK_SELECT_2.4}]
item replace entity @s inventory.17 with clock[max_stack_size=1,item_name={"color":"green","translate":"item.purple.spectator_ability","fallback":"Spectator Ability: %s","with":[{"color":"white","translate":"item.purple.spectator_ability.time","fallback":"Reduce Timer"}]},lore=[{"translate":"setting.purple.button.spectator_ability.time.desc","fallback":"Cut the remaining time in half","color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],custom_data={id:QUICK_SELECT_2.5}]
item replace entity @s inventory.26 with player_head[max_stack_size=1,item_name={"color":"green","translate":"item.purple.spectator_ability","fallback":"Spectator Ability: %s","with":[{"color":"white","translate":"item.purple.spectator_ability.item","fallback":"Item Box"}]},lore=[{"translate":"setting.purple.button.spectator_ability.item.desc.1","fallback":"Spawn a random item on the","color":"gray","italic":false},{"translate":"setting.purple.button.spectator_ability.item.desc.2","fallback":"ground in front of you","color":"gray","italic":false},"",{"translate":"item.purple.quick_select","fallback":"Click to select!","color":"yellow","italic":false}],profile={properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmZkY2ZiNDAwOTc2YmY3M2VjMzJjMWI5OTYyYzgzMGZjM2Q3MDA2ZDc0OWY4ZjNkYTNiNmUwZmI4MjkwOWIyOCJ9fX0="}]},custom_data={id:QUICK_SELECT_2.6},!equippable]

tag @s remove dont_drop_items
