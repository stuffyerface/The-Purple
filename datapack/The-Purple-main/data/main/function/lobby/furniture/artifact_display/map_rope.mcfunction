# common setup stuff
execute as @n[type=text_display,tag=lobby.artifact_display,tag=empty,distance=..2] run data merge entity @s {Tags:["lobby.artifact_display","full"],view_range:0f}
execute if entity @p[tag=artifact.rope] run tellraw @a {"translate":"message.purple.lobby.lost_artifact.place","fallback":"%s placed the %s artifact!","with":[{"selector":"@p[tag=artifact.rope]"},{"translate":"item.purple.artifact.rope.name","fallback":"Spare Rope","color":"yellow"}],"color":"#76776F"}
execute unless entity @p[tag=artifact.rope] run tellraw @a {"translate":"message.purple.lobby.lost_artifact.placed","fallback":"The %s artifact was placed!","with":[{"translate":"item.purple.artifact.rope.name","fallback":"Spare Rope","color":"yellow"}],"color":"#76776F"}
tag @s remove empty
tag @s add full
tag @s add artifact.rope
clear @p[tag=artifact.rope] *[custom_data={id:"ARTIFACT_ROPE"}]
tag @p[tag=artifact.rope] remove artifact.rope

# furniture model
summon minecraft:block_display ~ ~0.05 ~ {Tags:["furniture.artifact","furniture.artifact.rope"],Passengers: [{block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [-0.17808467f, -0.20490551f, 0.60922974f, 0.7450763f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.124996714f, 0.12502788f, 0.12497541f], translation: [0.17286485f, -0.09031632f, -0.010326477f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [-4.67279E-9f, -6.195675E-9f, 0.70710677f, 0.70710677f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499996f, 0.12500112f, 0.12499996f], translation: [0.20715548f, -0.09166943f, -0.12765507f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.15304486f, 0.15304486f, 0.6903458f, 0.6903458f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499996f, 0.12500083f, 0.12500045f], translation: [0.06550961f, -0.09044873f, -0.12477545f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.35355082f, 0.35355082f, 0.6123738f, 0.6123738f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499991f, 0.12499912f, 0.12500188f], translation: [-0.065723926f, -0.09166943f, -0.04896914f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [-0.043167435f, -0.043167435f, 0.70578796f, 0.70578796f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499931f, 0.12500073f, 0.1249995f], translation: [-0.066946365f, -0.09948195f, -0.080509864f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.6797235f, 0.6797235f, 0.19487405f, 0.19487405f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.1249998f, 0.12501808f, 0.124982744f], translation: [-0.09918552f, -0.0960378f, 0.25080964f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.70492697f, 0.70492697f, -0.05547886f, -0.05547886f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499969f, 0.12500072f, 0.124999925f], translation: [0.038012903f, -0.09312347f, 0.3266653f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.6061097f, 0.6061097f, -0.36418542f, -0.36418542f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499959f, 0.12499966f, 0.12500072f], translation: [0.19753617f, -0.09603778f, 0.28301263f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [-0.3799271f, -0.3799271f, 0.59636843f, 0.59636843f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499958f, 0.12499984f, 0.1250006f], translation: [0.2547524f, -0.09084546f, 0.12913814f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.5840367f, 0.79311293f, -0.17231211f, -0.013479538f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12413292f, 0.12557404f, 0.12529883f], translation: [-0.13021663f, -0.06736266f, 0.112946026f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.529592f, 0.529592f, 0.46854275f, 0.46854275f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499979f, 0.1249998f, 0.12500097f], translation: [-0.13593654f, -0.09414137f, 0.091060005f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.6724994f, 0.6724994f, 0.21850528f, 0.21850528f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499972f, 0.12500122f, 0.12499951f], translation: [-0.29421234f, -0.08529126f, 0.018984452f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.47314653f, 0.47314653f, 0.52548283f, 0.52548283f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.124999635f, 0.12499978f, 0.12500085f], translation: [-0.30159938f, -0.08266673f, -0.1445879f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.176968f, 0.176968f, 0.68460375f, 0.68460375f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499955f, 0.12505077f, 0.124949805f], translation: [-0.1671974f, -0.08190381f, -0.24615829f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [-0.18290783f, -0.18290783f, 0.6830408f, 0.6830408f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.124999434f, 0.12506619f, 0.12493431f], translation: [-0.012157683f, -0.08385693f, -0.1817817f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.57566303f, 0.5756631f, -0.4106241f, -0.41062406f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499943f, 0.12500733f, 0.12499311f], translation: [-0.035350118f, -0.08248364f, -0.0013370827f]}}, {block_state: {Name: "minecraft:stripped_mangrove_log", Properties: {axis: "y"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.68620574f, -0.19228955f, -0.19518106f, -0.673833f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.050000075f, 0.05000018f, 0.050000086f], translation: [-0.07035338f, -0.055412505f, 0.21585703f]}}, {block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.529592f, 0.529592f, 0.46854275f, 0.46854275f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499977f, 0.12499978f, 0.12500094f], translation: [-0.13593654f, -0.09414137f, 0.091060005f]}}, {block_state: {Name: "minecraft:stripped_mangrove_log", Properties: {axis: "y"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.rope"], transformation: {left_rotation: [0.7118016f, -0.046564993f, -0.04729806f, -0.6992375f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.05143156f, 0.048608806f, 0.050000038f], translation: [-0.09063812f, -0.053576317f, 0.16922003f]}}], block_state: {Name: "minecraft:mangrove_fence", Properties: {east: "false", north: "false", south: "false", waterlogged: "false", west: "false"}}, transformation: {left_rotation: [0.7278945f, 0.6791431f, -0.06413795f, -0.069431745f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12521367f, 0.12478954f, 0.124998435f], translation: [-0.053868797f, -0.058971338f, 0.073070884f]}}

# stat tracking
scoreboard players add .total_artifacts data 1
scoreboard players set artifact.rope data 2
