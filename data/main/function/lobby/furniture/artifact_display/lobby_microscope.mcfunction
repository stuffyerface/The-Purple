# common setup stuff
execute as @n[type=text_display,tag=lobby.artifact_display,tag=empty,distance=..2] run data merge entity @s {Tags:["lobby.artifact_display","full"],view_range:0f}
tellraw @a {"translate":"message.purple.lobby.lost_artifact.place","fallback":"%s placed the %s artifact!","with":[{"selector":"@p[tag=artifact.microscope]"},{"translate":"item.purple.artifact.microscope.name","fallback":"Microscope","color":"yellow"}],"color":"#76776F"}
tag @s remove empty
tag @s add full
tag @s add artifact.microscope
clear @p[tag=artifact.microscope] *[custom_data={id:"ARTIFACT_MICROSCOPE"}]
tag @p[tag=artifact.microscope] remove artifact.microscope

# furniture model
summon minecraft:item_display ~ ~0.5 ~0.1 {Tags:["furniture.artifact","furniture.artifact.microscope"],Passengers: [{id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:white_concrete"}, transformation: {left_rotation: [0.0f, 0.1348171f, 0.0f, 0.9908705f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.49999973f, 0.12499998f, 0.49999973f], translation: [-0.041745707f, -0.43749997f, -0.1505701f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:obsidian"}, transformation: {left_rotation: [-0.051857244f, 0.13463235f, 0.0070556575f, 0.98951256f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.43750006f, 0.12500276f, 0.3749914f], translation: [-0.050094843f, -0.4034327f, -0.18068409f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:deepslate_tile_slab"}, transformation: {left_rotation: [0.0f, 0.13481708f, 0.0f, 0.9908704f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.31249976f, 0.12499998f, 0.31249976f], translation: [-0.050094843f, -0.1875f, -0.18068409f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:white_concrete"}, transformation: {left_rotation: [0.17206348f, 0.13276894f, -0.023410833f, 0.9758169f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.12499998f, 0.15624934f, 0.21875104f], translation: [-0.025047421f, 0.062499985f, -0.090342045f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:white_concrete"}, transformation: {left_rotation: [-6.6671777E-4f, 0.13481705f, 9.071312E-5f, 0.9908703f], right_rotation: [-0.0098248115f, 0.0f, 0.0f, 0.99995184f], scale: [0.15625012f, 0.43853796f, 0.12130944f], translation: [0.0f, -0.21875f, 0.0f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:spyglass"}, transformation: {left_rotation: [0.41096953f, 0.12267449f, -0.055916212f, 0.90162534f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.49999976f, 0.50007963f, 0.49992055f], translation: [0.0f, 0.21874997f, 0.0f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:spyglass"}, transformation: {left_rotation: [0.018879473f, 0.843725f, 0.1919989f, -0.5009072f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.31240422f, 0.15623568f, 0.31262347f], translation: [-0.12348646f, -0.029260933f, -0.20186988f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:music_disc_strad"}, transformation: {left_rotation: [0.7754511f, 0.0839277f, -0.1055073f, 0.6168467f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.21484388f, 0.31249577f, 0.37109882f], translation: [-0.058416694f, 0.0234375f, -0.18648407f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:spyglass"}, transformation: {left_rotation: [0.031092059f, 0.9469512f, 0.18965217f, 0.25758243f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.312415f, 0.15622655f, 0.31263277f], translation: [-0.010558873f, -0.029260933f, -0.23317915f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.microscope"], item: {Count: 1b, id: "minecraft:spyglass"}, transformation: {left_rotation: [0.017293034f, 0.1347966f, -0.002352878f, 0.9907195f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.31249973f, 0.15624991f, 0.31249914f], translation: [-0.03880301f, -0.047801197f, -0.1420123f]}}], item: {Count: 1b, id: "minecraft:polished_diorite"}, transformation: {left_rotation: [-0.22451334f, 0.1313108f, 0.03054712f, 0.9651001f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.18750006f, 0.15516967f, 0.15733817f], translation: [0.0f, 0.0f, 0.0f]}}

# stat tracking
scoreboard players add .total_artifacts data 1
