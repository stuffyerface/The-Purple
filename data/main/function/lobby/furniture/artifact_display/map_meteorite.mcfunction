# common setup stuff
execute as @n[type=text_display,tag=lobby.artifact_display,tag=empty,distance=..2] run data merge entity @s {Tags:["lobby.artifact_display","full"],view_range:0f}
tellraw @a {"translate":"message.purple.lobby.artifact.place","fallback":"%s placed the %s artifact!","with":[{"selector":"@p[tag=artifact.meteorite]"},{"translate":"item.purple.artifact.meteorite.name","fallback":"Meteorite Chunk","color":"yellow"}],"color":"#76776F"}
tag @s remove empty
tag @s add full
tag @s add artifact.meteorite
clear @p[tag=artifact.meteorite] *[custom_data={id:"ARTIFACT_METEORITE"}]
tag @p[tag=artifact.meteorite] remove artifact.meteorite

# furniture model
summon minecraft:item_display ~-0.2 ~0.2 ~ {Tags:["furniture.artifact","furniture.artifact.meteorite"], Passengers: [{id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.meteorite"], item: {Count: 1b, id: "minecraft:dead_brain_coral_block"}, transformation: {left_rotation: [0.061136533f, -0.06758678f, 0.013714515f, 0.99574405f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.38291666f, 0.38280144f, 0.38272095f], translation: [0.13671874f, 0.02734375f, 0.08203125f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.meteorite"], item: {Count: 1b, id: "minecraft:dead_brain_coral_block"}, transformation: {left_rotation: [-0.0799172f, -0.23629136f, 0.019486217f, 0.9681942f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.2453936f, 0.24603614f, 0.24685474f], translation: [0.10937499f, 0.10937497f, -0.35546872f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.meteorite"], item: {Count: 1b, id: "minecraft:dead_brain_coral_block"}, transformation: {left_rotation: [0.036091648f, 0.03299324f, -0.044713605f, 0.9978023f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.43749553f, 0.43753564f, 0.43746942f], translation: [0.13671874f, -0.02734375f, -0.08203125f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.meteorite"], item: {Count: 1b, id: "minecraft:dead_brain_coral_block"}, transformation: {left_rotation: [0.0f, -0.03489953f, 0.0f, 0.99939084f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.3007811f, 0.30078134f, 0.3007817f], translation: [0.24609374f, -0.08203125f, -0.19140624f]}}, {id: "minecraft:item_display", Tags:["furniture.artifact","furniture.artifact.meteorite"], item: {Count: 1b, id: "minecraft:dead_brain_coral_block"}, transformation: {left_rotation: [-0.14984469f, 0.072587244f, -0.22609058f, 0.95977116f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.13646111f, 0.1368832f, 0.13681312f], translation: [0.38281247f, 0.19140622f, -0.21874999f]}}, {block_state: {Name: "minecraft:fire", Properties: {age: "0", east: "false", north: "false", south: "false", up: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.meteorite"], transformation: {left_rotation: [0.068797074f, -0.1399844f, 0.16641964f, 0.97364044f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [3.8234473E-5f, 0.054013815f, 0.10823749f], translation: [-0.082244866f, 0.13897258f, -0.022537231f]}}, {block_state: {Name: "minecraft:fire", Properties: {age: "0", east: "false", north: "false", south: "false", up: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.meteorite"], transformation: {left_rotation: [0.06977269f, 0.0f, 0.0f, 0.9975629f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [4.375E-5f, 0.08206465f, 0.1366633f], translation: [0.35546872f, 0.16871235f, -0.090524614f]}}, {block_state: {Name: "minecraft:fire", Properties: {age: "0", east: "false", north: "false", south: "false", up: "false", west: "false"}}, id: "minecraft:block_display", Tags:["furniture.artifact","furniture.artifact.meteorite"], transformation: {left_rotation: [-0.101368755f, 0.6959752f, 0.14914596f, -0.69505274f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.43750125f, 0.27333364f, 3.776298E-5f], translation: [0.16406249f, 0.13671872f, -0.21874999f]}}], item: {Count: 1b, id: "minecraft:dead_brain_coral_block"}, transformation: {left_rotation: [0.10464527f, 0.0f, 0.0f, 0.9945096f], right_rotation: [0.0f, 0.0f, 0.0f, 1.0f], scale: [0.2734374f, 0.27315313f, 0.27372217f], translation: [0.0f, 0.0f, 0.0f]}}

# stat tracking
scoreboard players add .total_artifacts data 1
